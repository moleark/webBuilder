{"version":3,"sources":["../../../src/entry/changePassword.tsx"],"names":[],"mappings":"wiBAIa,EAAb,YAAE,SAAF,IAAI,IAAJ,EAAI,4B,0DACQ,OAAuB,CAC3B,CAAC,KAAK,cAAe,KAAM,SAAU,UAAW,GAAI,UAAU,GAC9D,CAAC,KAAK,cAAe,KAAM,SAAU,UAAW,GAAI,UAAU,GAC9D,CAAC,KAAK,eAAgB,KAAM,SAAU,UAAW,GAAI,UAAU,GAC/D,CAAC,KAAK,SAAU,KAAM,WAElB,WAAqB,CACzB,MAAO,CACH,YAAa,CACT,OAAQ,WACR,MAAO,qBACP,YAAa,8CAEjB,YAAa,CACT,OAAQ,WACR,MAAO,qBACP,YAAa,8CAEjB,aAAc,CACV,OAAQ,WACR,MAAO,2BACP,YAAa,oDAEjB,OAAQ,CACJ,OAAQ,SACR,MAAO,eACP,UAAW,qBAKX,EAAJ,SAAW,SAAO,EAAa,GAApB,OAAqD,0IACrB,EAAQ,KAAlD,EAD+D,EAC/D,YAAa,EADkD,EAClD,YAAa,EADqC,EACrC,aAC3B,IAAgB,EAFgD,uBAGhE,EAAQ,SAAS,eAAgB,sEAH+B,0BAO1D,OADN,EAAe,IAAI,IAAa,WAAO,GANyB,SAOpD,EAAa,eAAe,CAAC,YAAa,EAAa,YAAY,IAPf,WAQxD,IARwD,+BAShE,EAAQ,SAAS,cAAe,kCATgC,kCAYpE,IAAI,QAAQ,gBAAC,IAAI,CAAC,OAAO,2BAAO,KAAK,SACjC,uBAAK,UAAU,qBAAmB,gDAb8B,gEAhC5E,EAAE,wCAAE,IAAJ,SAAI,MAAJ,WAqDQ,OAAO,gBAAC,IAAI,CAAC,OAAO,4BAChB,gBAAC,IAAI,CACD,UAAU,MACV,OAAQ,KAAK,OACb,SAAU,KAAK,SACf,cAAe,KAAK,SACpB,eAAgB,SA3DhC,GAAwC","file":"static/js/4.8309a3b6.chunk.js","sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport * as React from 'react';\r\nimport { Page, Form, nav } from '../components';\r\nimport { CenterAppApi } from '../net';\r\nexport class ChangePasswordPage extends React.Component {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.schema = [\r\n            { name: 'orgPassword', type: 'string', maxLength: 60, required: true },\r\n            { name: 'newPassword', type: 'string', maxLength: 60, required: true },\r\n            { name: 'newPassword1', type: 'string', maxLength: 60, required: true },\r\n            { name: 'submit', type: 'submit' }\r\n        ];\r\n        this.uiSchema = {\r\n            items: {\r\n                orgPassword: {\r\n                    widget: 'password',\r\n                    label: '原密码',\r\n                    placeholder: '输入原来的密码'\r\n                },\r\n                newPassword: {\r\n                    widget: 'password',\r\n                    label: '新密码',\r\n                    placeholder: '输入新设的密码'\r\n                },\r\n                newPassword1: {\r\n                    widget: 'password',\r\n                    label: '确认密码',\r\n                    placeholder: '再次输入新设密码'\r\n                },\r\n                submit: {\r\n                    widget: 'button',\r\n                    label: '提交',\r\n                    className: 'btn btn-primary'\r\n                },\r\n            }\r\n        };\r\n        this.onSubmit = (name, context) => __awaiter(this, void 0, void 0, function* () {\r\n            let { orgPassword, newPassword, newPassword1 } = context.data;\r\n            if (newPassword !== newPassword1) {\r\n                context.setError('newPassword1', '新密码错误，请重新输入');\r\n                return;\r\n            }\r\n            let centerAppApi = new CenterAppApi('tv/', undefined);\r\n            let ret = yield centerAppApi.changePassword({ orgPassword: orgPassword, newPassword: newPassword });\r\n            if (ret === false) {\r\n                context.setError('orgPassword', '原密码错误');\r\n                return;\r\n            }\r\n            nav.replace(React.createElement(Page, { header: \"\\u4FEE\\u6539\\u5BC6\\u7801\", back: \"close\" },\r\n                React.createElement(\"div\", { className: \"m-3  text-success\" }, \"\\u5BC6\\u7801\\u4FEE\\u6539\\u6210\\u529F\\uFF01\")));\r\n            return;\r\n        });\r\n    }\r\n    render() {\r\n        return React.createElement(Page, { header: \"\\u4FEE\\u6539\\u5BC6\\u7801\" },\r\n            React.createElement(Form, { className: \"m-3\", schema: this.schema, uiSchema: this.uiSchema, onButtonClick: this.onSubmit, fieldLabelSize: 2 }));\r\n    }\r\n}\r\n//# sourceMappingURL=changePassword.js.map"],"sourceRoot":""}